{"ast":null,"code":"import _regeneratorRuntime from\"/Users/sophiekeller/Desktop/handwriting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/sophiekeller/Desktop/handwriting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/sophiekeller/Desktop/handwriting/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Col,Row,Button,Form,Alert,Image,Spinner}from\"react-bootstrap\";import{Formik}from\"formik\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Uploader(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),file=_useState4[0],setFile=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),result=_useState8[0],setResult=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),fileUrl=_useState10[0],setFileUrl=_useState10[1];// const delay = (ms) => new Promise((res) => setTimeout(res, ms));\nvar handleSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"submitting\");setLoading(true);process_photo(fileUrl);case 3:case\"end\":return _context.stop();}}},_callee);}));return function handleSubmit(){return _ref.apply(this,arguments);};}();var process_photo=function process_photo(url){var urlData={url:url};fetch(\"/process_photo\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(urlData)}).then(function(response){return response.json();}).then(function(data){if(data[\"error\"]){console.log(data[\"error\"]);}else{setResult(data[\"result\"]);setLoading(false);}});};return/*#__PURE__*/_jsxs(\"div\",{style:{marginLeft:\"20px\",marginTop:\"25vh\",display:\"flex\",flexDirection:\"column\",alignItems:\"center\",justifyContent:\"center\"},children:[/*#__PURE__*/_jsx(\"h1\",{style:{marginBottom:\"10px\",color:\"#6d02fa\"},children:\"Upload Your Handwriting\"}),/*#__PURE__*/_jsxs(Row,{style:{marginTop:\"10px\"},children:[/*#__PURE__*/_jsx(Col,{md:\"8\",children:/*#__PURE__*/_jsx(Form.Group,{controlId:\"formFile\",className:\"mb-3\",children:/*#__PURE__*/_jsx(Form.Control,{onChange:function onChange(e){setFileUrl(URL.createObjectURL(e.target.files[0]));setFile(e.target.files[0]);},type:\"file\",name:\"logo\"})})}),/*#__PURE__*/_jsx(Col,{md:\"2\",children:/*#__PURE__*/_jsx(Button,{style:{backgroundColor:\"#6d02fa\",border:\"none\"},onClick:handleSubmit,children:\"Go\"})}),/*#__PURE__*/_jsx(Col,{md:\"2\",children:loading&&/*#__PURE__*/_jsx(Spinner,{animation:\"border\"})})]}),error!==\"\"&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(Image,{src:fileUrl,rounded:true,style:{width:\"200px\"}}),result&&/*#__PURE__*/_jsxs(\"h4\",{style:{color:\"#a561ff\"},children:[\"Result: \",result]})]});}export default Uploader;","map":{"version":3,"sources":["/Users/sophiekeller/Desktop/handwriting/src/Uploader.js"],"names":["React","useState","useEffect","Col","Row","Button","Form","Alert","Image","Spinner","Formik","Uploader","error","setError","file","setFile","loading","setLoading","result","setResult","fileUrl","setFileUrl","handleSubmit","console","log","process_photo","url","urlData","fetch","method","headers","body","JSON","stringify","then","response","json","data","marginLeft","marginTop","display","flexDirection","alignItems","justifyContent","marginBottom","color","e","URL","createObjectURL","target","files","backgroundColor","border","width"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Col, Row, Button, Form, Alert, Image, Spinner } from \"react-bootstrap\";\nimport { Formik } from \"formik\";\n\nfunction Uploader() {\n  const [error, setError] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(\"\");\n  const [fileUrl, setFileUrl] = useState(\"\");\n\n  // const delay = (ms) => new Promise((res) => setTimeout(res, ms));\n\n  const handleSubmit = async () => {\n    console.log(\"submitting\");\n    setLoading(true);\n    process_photo(fileUrl);\n  };\n\n  const process_photo = (url) => {\n    let urlData = { url: url };\n    fetch(\"/process_photo\", {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(urlData),\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data[\"error\"]) {\n          console.log(data[\"error\"]);\n        } else {\n          setResult(data[\"result\"]);\n          setLoading(false);\n        }\n      });\n  };\n\n  return (\n    <div\n      style={{\n        marginLeft: \"20px\",\n        marginTop: \"25vh\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <h1\n        style={{\n          marginBottom: \"10px\",\n          color: \"#6d02fa\",\n        }}\n      >\n        Upload Your Handwriting\n      </h1>\n      <Row style={{ marginTop: \"10px\" }}>\n        <Col md=\"8\">\n          <Form.Group controlId=\"formFile\" className=\"mb-3\">\n            <Form.Control\n              onChange={(e) => {\n                setFileUrl(URL.createObjectURL(e.target.files[0]));\n                setFile(e.target.files[0]);\n              }}\n              type=\"file\"\n              name=\"logo\"\n            />\n          </Form.Group>\n        </Col>\n        <Col md=\"2\">\n          <Button\n            style={{\n              backgroundColor: \"#6d02fa\",\n              border: \"none\",\n            }}\n            onClick={handleSubmit}\n          >\n            Go\n          </Button>\n        </Col>\n\n        <Col md=\"2\">{loading && <Spinner animation=\"border\" />}</Col>\n      </Row>\n      {error !== \"\" && <Alert variant={\"danger\"}>{error}</Alert>}\n      <Image src={fileUrl} rounded style={{ width: \"200px\" }} />\n      {result && (\n        <h4\n          style={{\n            color: \"#a561ff\",\n          }}\n        >\n          Result: {result}\n        </h4>\n      )}\n    </div>\n  );\n}\n\nexport default Uploader;\n"]},"metadata":{},"sourceType":"module"}