{"version":3,"sources":["logo.svg","NavBar.js","Uploader.js","App.js","reportWebVitals.js","index.js"],"names":["NavBar","Uploader","useState","error","file","setFile","loading","setLoading","result","setResult","fileUrl","setFileUrl","numberRight","setNumberRight","feedback","setFeedback","statistics","setStatistics","useEffect","fetch","then","response","json","data","console","log","handleSubmit","a","process_photo","imageData","FormData","append","method","body","style","marginLeft","display","flexDirection","paddingTop","alignItems","justifyContent","marginBottom","color","fontSize","size","marginTop","Row","Col","md","Form","Group","controlId","className","Control","onChange","e","URL","createObjectURL","target","files","type","name","Button","backgroundColor","border","onClick","Spinner","animation","Alert","variant","Image","src","rounded","width","word_prediction","probability","value","isNaN","count","length","proportionRight","newInfo","total_data","probabilities_sum","headers","JSON","stringify","newValue","App","setResults","backgroundImage","minHeight","exact","path","element","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df99fd35.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React, { useState } from \"react\";\n\nimport { Form, Button, Nav, Navbar } from \"react-bootstrap\";\n\nfunction NavBar() {\n  return (\n    <Navbar\n      variant=\"dark\"\n      expand=\"lg\"\n      style={{\n        backgroundImage: \"linear-gradient(#a561ff, #6d02fa)\",\n        paddingLeft: \"40px\",\n        paddingRight: \"40px\",\n        color: \"white\",\n      }}\n    >\n      <Navbar.Brand href=\"#home\">Handwriting Magic</Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"me-auto\">\n          <Nav.Link href=\"/\">Home</Nav.Link>\n          <Nav.Link href=\"/about\">About</Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default NavBar;\n","import React, { useState, useEffect } from \"react\";\nimport { Col, Row, Button, Form, Alert, Image, Spinner } from \"react-bootstrap\";\nimport { Formik } from \"formik\";\nimport { Gem } from \"react-bootstrap-icons\";\n\nfunction Uploader() {\n  const [error, setError] = useState(\"\");\n  const [file, setFile] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [result, setResult] = useState(null);\n  const [fileUrl, setFileUrl] = useState(\"\");\n  const [numberRight, setNumberRight] = useState(\"\");\n  const [feedback, setFeedback] = useState(\"\");\n  const [statistics, setStatistics] = useState(null);\n\n  useEffect(() => {\n    fetch(\"/get_statistics\")\n      .then((response) => response.json())\n      .then((data) => {\n        if (data[\"error\"]) {\n          console.log(data[\"error\"]);\n        } else {\n          setStatistics(data);\n        }\n      });\n  }, []);\n\n  const handleSubmit = async () => {\n    console.log(\"submitting\");\n    setLoading(true);\n    process_photo();\n  };\n\n  const process_photo = () => {\n    let imageData = new FormData();\n    imageData.append(\"image\", file);\n    fetch(\"/process_photo\", {\n      method: \"POST\",\n      body: imageData,\n    })\n      .then((response) => response.json())\n      .then((data) => {\n        if (data[\"error\"]) {\n          console.log(data[\"error\"]);\n        } else {\n          setResult(data);\n          setLoading(false);\n        }\n      });\n  };\n\n  const submitCount = () => {\n    if (isNaN(numberRight) || numberRight === \"\") {\n      setFeedback(\"please enter a number\");\n    } else {\n      let count = result.word_prediction.length;\n      let proportionRight = numberRight / count;\n\n      const newInfo = {\n        total_data: statistics.total_data + 1,\n        probabilities_sum: statistics.probabilities_sum + proportionRight,\n      };\n      setStatistics(newInfo);\n      fetch(\"/update_statistics\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({ newValue: proportionRight }),\n      })\n        .then((response) => response.json())\n        .then((data) => {\n          setFeedback(\"thanks for your feedback\");\n        });\n    }\n  };\n\n  return (\n    <div\n      style={{\n        marginLeft: \"20px\",\n        display: \"flex\",\n        flexDirection: \"column\",\n        paddingTop: \"25vh\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n      }}\n    >\n      <h1\n        style={{\n          marginBottom: \"10px\",\n          color: \"white\",\n          fontSize: \"50px\",\n        }}\n      >\n        Handwriting Magic\n      </h1>\n      <Gem size={60} />\n      <h5\n        style={{\n          marginBottom: \"10px\",\n          marginTop: \"20px\",\n          color: \"white\",\n        }}\n      >\n        Try it out!\n      </h5>\n      <Row style={{ marginTop: \"10px\" }}>\n        <Col md=\"8\">\n          <Form.Group controlId=\"formFile\" className=\"mb-3\">\n            <Form.Control\n              onChange={(e) => {\n                setFileUrl(URL.createObjectURL(e.target.files[0]));\n                setFile(e.target.files[0]);\n              }}\n              type=\"file\"\n              name=\"logo\"\n            />\n          </Form.Group>\n        </Col>\n        <Col md=\"3\">\n          <Button\n            style={{\n              backgroundColor: \"#6d02fa\",\n              border: \"none\",\n            }}\n            onClick={handleSubmit}\n          >\n            Go\n          </Button>\n        </Col>\n\n        <Col md=\"1\">{loading && <Spinner animation=\"border\" />}</Col>\n      </Row>\n      {error !== \"\" && <Alert variant={\"danger\"}>{error}</Alert>}\n      <Image src={fileUrl} rounded style={{ width: \"200px\" }} />\n      {result && (\n        <div>\n          <h4\n            style={{\n              color: \"white\",\n            }}\n          >\n            Result: {result.word_prediction}\n          </h4>\n          <h4\n            style={{\n              color: \"white\",\n            }}\n          >\n            Probability of Correctness: {result.probability}\n          </h4>\n        </div>\n      )}\n      <h5\n        style={{\n          marginBottom: \"10px\",\n          marginTop: \"20px\",\n          color: \"white\",\n        }}\n      >\n        How many letters did we get right?\n      </h5>\n      <Row>\n        <Col md=\"9\">\n          <Form.Group className=\"mb-3\">\n            <Form.Control\n              onChange={(e) => {\n                setNumberRight(e.target.value);\n              }}\n              type=\"text\"\n            />\n          </Form.Group>\n        </Col>\n        <Col md=\"3\">\n          <Button\n            style={{\n              backgroundColor: \"#6d02fa\",\n              border: \"none\",\n            }}\n            onClick={submitCount}\n          >\n            Submit\n          </Button>\n        </Col>\n        {feedback && <div>{feedback}</div>}\n      </Row>\n    </div>\n  );\n}\n\nexport default Uploader;\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport NavBar from \"./NavBar.js\";\nimport Uploader from \"./Uploader.js\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport React, { useState } from \"react\";\nimport { BrowserRouter as Router, Route, Routes } from \"react-router-dom\";\n\nfunction App() {\n  const [results, setResults] = useState(null);\n\n  return (\n    <div\n      style={{\n        backgroundImage: \"linear-gradient(#a561ff, #6d02fa)\",\n        color: \"white\",\n        minHeight: \"100vh\",\n      }}\n    >\n      <Router>\n        {/* <NavBar /> */}\n        <Routes>\n          <Route\n            exact\n            path=\"/\"\n            element={<Uploader setResults={setResults} />}\n          ></Route>\n          <Route exact path=\"/about\"></Route>\n          <Route exact path=\"/results\"></Route>\n        </Routes>\n      </Router>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}