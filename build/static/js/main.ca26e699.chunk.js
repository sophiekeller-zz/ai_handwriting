(this["webpackJsonphandwriting-magic"]=this["webpackJsonphandwriting-magic"]||[]).push([[0],{51:function(e,t,n){},52:function(e,t,n){},62:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),o=n(18),i=n.n(o),r=(n(51),n(7)),s=(n.p,n(52),n(70),n(71),n(1));var l=n(66),j=n(43),d=n(72),b=n(67),h=n(68),u=n(69),O=(n(61),n(65));var x=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(null),i=Object(r.a)(o,2),x=i[0],f=i[1],p=Object(c.useState)(!1),g=Object(r.a)(p,2),m=g[0],y=g[1],v=Object(c.useState)(null),w=Object(r.a)(v,2),S=w[0],C=w[1],T=Object(c.useState)(""),k=Object(r.a)(T,2),P=k[0],_=k[1],B=Object(c.useState)(""),F=Object(r.a)(B,2),I=F[0],L=F[1],N=Object(c.useState)(""),R=Object(r.a)(N,2),D=R[0],G=R[1],H=Object(c.useState)(null),J=Object(r.a)(H,2),z=J[0],E=J[1],M=Object(c.useState)(0),U=Object(r.a)(M,2),V=U[0],q=U[1];Object(c.useEffect)((function(){fetch("/get_statistics").then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):E(e)}))}),[]);var A=function(){if(x)if(S)a("Please refresh the page to try another word.");else{y(!0);var e=new FormData;console.log(x),console.log(V),e.append("image",x),e.append("method",V),fetch("/process_photo",{method:"POST",body:e}).then((function(e){return e.json()})).then((function(e){e.error?console.log(e.error):(C(e),y(!1))}))}else a("Please upload a file to decode.")};return Object(s.jsxs)("div",{style:{marginLeft:"20px",display:"flex",flexDirection:"column",paddingTop:"25vh",alignItems:"center",justifyContent:"center"},children:[Object(s.jsx)("h1",{style:{marginBottom:"10px",color:"white",fontSize:"50px"},children:"Handwriting Magic"}),Object(s.jsx)(O.a,{size:60}),Object(s.jsx)("h5",{style:{marginBottom:"10px",marginTop:"20px",color:"white"},children:"Try it out!"}),Object(s.jsxs)(l.a,{style:{marginTop:"10px"},children:[Object(s.jsx)(j.a,{md:"4",children:Object(s.jsx)(d.a.Group,{controlId:"formFile",children:Object(s.jsx)(d.a.Control,{onChange:function(e){_(URL.createObjectURL(e.target.files[0])),f(e.target.files[0])},type:"file",name:"logo"})})}),Object(s.jsx)(j.a,{md:"4",children:Object(s.jsxs)(d.a.Select,{onChange:function(e){q(e.target.value)},value:V,children:[Object(s.jsx)("option",{value:"0",children:"Best Path"}),Object(s.jsx)("option",{value:"1",children:"Beam Search"})]})}),Object(s.jsx)(j.a,{md:"3",children:Object(s.jsx)(b.a,{style:{backgroundColor:"#6d02fa",border:"none"},onClick:function(){A()},children:"Go"})}),Object(s.jsx)(j.a,{md:"1",children:m&&Object(s.jsx)(h.a,{animation:"border"})})]}),n&&Object(s.jsx)("div",{style:{marginTop:"10px"},children:n}),Object(s.jsx)(u.a,{src:P,rounded:!0,style:{width:"200px"}}),S&&Object(s.jsxs)("div",{children:[Object(s.jsxs)("h4",{style:{color:"white"},children:["Result: ",S.word_prediction]}),Object(s.jsxs)("h4",{style:{color:"white"},children:["Probability of Correctness: ",S.probability]})]}),Object(s.jsx)("h5",{style:{marginBottom:"10px",marginTop:"20px",color:"white"},children:"How many letters did we get right?"}),Object(s.jsxs)(l.a,{children:[Object(s.jsx)(j.a,{md:"9",children:Object(s.jsx)(d.a.Group,{className:"mb-3",children:Object(s.jsx)(d.a.Control,{onChange:function(e){L(e.target.value)},type:"text"})})}),Object(s.jsx)(j.a,{md:"3",children:Object(s.jsx)(b.a,{style:{backgroundColor:"#6d02fa",border:"none"},onClick:function(){if(isNaN(I)||""===I)G("Please enter a number.");else if(x){var e=S.word_prediction.length,t=I/e,n={total_data:z.total_data+1,probabilities_sum:z.probabilities_sum+t};E(n),fetch("/update_statistics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({newValue:t})}).then((function(e){return e.json()})).then((function(e){G("Thanks for your feedback!")}))}else G("No word has been decoded!")},children:"Submit"})}),Object(s.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex"},children:D&&Object(s.jsx)("div",{children:D})})]})]})},f=(n(60),n(44)),p=n(6);var g=function(){var e=Object(c.useState)(null),t=Object(r.a)(e,2),n=(t[0],t[1]);return Object(s.jsx)("div",{style:{backgroundImage:"linear-gradient(#a561ff, #6d02fa)",color:"white",minHeight:"100vh"},children:Object(s.jsx)(f.a,{children:Object(s.jsxs)(p.c,{children:[Object(s.jsx)(p.a,{exact:!0,path:"/",element:Object(s.jsx)(x,{setResults:n})}),Object(s.jsx)(p.a,{exact:!0,path:"/about"}),Object(s.jsx)(p.a,{exact:!0,path:"/results"})]})})})},m=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,73)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),o(e),i(e)}))};i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(g,{})}),document.getElementById("root")),m()}},[[62,1,2]]]);
//# sourceMappingURL=main.ca26e699.chunk.js.map